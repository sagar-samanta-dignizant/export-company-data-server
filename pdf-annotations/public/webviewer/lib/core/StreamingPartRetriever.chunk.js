/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[12],{459:function(Aa,va,r){r.r(va);var pa=r(0),ka=r(1);r.n(ka);var la=r(2),fa=r(153);Aa=r(48);var ea=r(97),aa=r(253),x=r(72),y=r(252);r=r(386);var h=window,e=function(){function f(n,ba,w){var da=-1===n.indexOf("?")?"?":"&";switch(ba){case x.a.NEVER_CACHE:this.url=n+da+"_="+Object(ka.uniqueId)();break;default:this.url=n}this.ef=w;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}f.prototype.start=function(n,ba){var w=this,da=this,ja=this.request,z;da.Fx=0;n&&Object.keys(n).forEach(function(ca){w.request.setRequestHeader(ca,n[ca])});ba&&(this.request.withCredentials=ba);this.AE=setInterval(function(){var ca=0===window.document.URL.indexOf("file:///");ca=200===ja.status||
ca&&0===ja.status;if(ja.readyState!==y.b.DONE||ca){try{ja.responseText}catch(ia){return}da.Fx<ja.responseText.length&&(z=da.Eia())&&da.trigger(f.Events.DATA,[z]);0===ja.readyState&&(clearInterval(da.AE),da.trigger(f.Events.DONE))}else clearInterval(da.AE),da.trigger(f.Events.DONE,["Error received return status "+ja.status])},1E3);this.request.send(null);this.status=y.a.STARTED};f.prototype.Eia=function(){var n=this.request,ba=n.responseText;if(0!==ba.length)if(this.Fx===ba.length)clearInterval(this.AE),
this.trigger(f.Events.DONE);else return ba=Math.min(this.Fx+3E6,ba.length),n=h.PU(n,this.Fx,!0,ba),this.Fx=ba,n};f.prototype.abort=function(){clearInterval(this.AE);var n=this;this.request.onreadystatechange=function(){Object(la.j)("StreamingRequest aborted");n.status=y.a.ABORTED;return n.trigger(f.Events.ABORTED)};this.request.abort()};f.prototype.finish=function(){var n=this;this.request.onreadystatechange=function(){n.status=y.a.SUCCESS;return n.trigger(f.Events.DONE)};this.request.abort()};f.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return f}();Object(Aa.a)(e);var b;(function(f){f[f.LOCAL_HEADER=0]="LOCAL_HEADER";f[f.FILE=1]="FILE";f[f.CENTRAL_DIR=2]="CENTRAL_DIR"})(b||(b={}));var a=function(f){function n(){var ba=f.call(this)||this;ba.buffer="";ba.state=b.LOCAL_HEADER;ba.vN=4;ba.im=null;ba.Lt=fa.c;ba.On={};return ba}Object(pa.c)(n,f);n.prototype.xia=function(ba){var w;for(ba=this.buffer+ba;ba.length>=this.Lt;)switch(this.state){case b.LOCAL_HEADER:this.im=w=this.Iia(ba.slice(0,this.Lt));
if(w.su!==fa.g)throw Error("Wrong signature in local header: "+w.su);ba=ba.slice(this.Lt);this.state=b.FILE;this.Lt=w.WH+w.Fq+w.zw+this.vN;this.trigger(n.Events.HEADER,[w]);break;case b.FILE:this.im.name=ba.slice(0,this.im.Fq);this.On[this.im.name]=this.im;w=this.Lt-this.vN;var da=ba.slice(this.im.Fq+this.im.zw,w);this.trigger(n.Events.FILE,[this.im.name,da,this.im.mI]);ba=ba.slice(w);if(ba.slice(0,this.vN)===fa.h)this.state=b.LOCAL_HEADER,this.Lt=fa.c;else return this.state=b.CENTRAL_DIR,!0}this.buffer=
ba;return!1};n.Events={HEADER:"header",FILE:"file"};return n}(aa.a);Object(Aa.a)(a);Aa=function(f){function n(ba,w,da,ja,z){da=f.call(this,ba,da,ja)||this;da.url=ba;da.stream=new e(ba,w);da.wd=new a;da.VX=window.createPromiseCapability();da.wY={};da.ef=z;return da}Object(pa.c)(n,f);n.prototype.zy=function(ba){var w=this;this.request([this.Dj,this.Wk,this.Cj]);this.stream.addEventListener(e.Events.DATA,function(da){try{if(w.wd.xia(da))return w.stream.finish()}catch(ja){throw w.stream.abort(),w.Vp(ja),
ba(ja),ja;}});this.stream.addEventListener(e.Events.DONE,function(da){w.aia=!0;w.VX.resolve();da&&(w.Vp(da),ba(da))});this.wd.addEventListener(a.Events.HEADER,Object(ka.bind)(this.vY,this));this.wd.addEventListener(a.Events.FILE,Object(ka.bind)(this.Yia,this));return this.stream.start(this.ef,this.withCredentials)};n.prototype.MU=function(ba){var w=this;this.VX.promise.then(function(){ba(Object.keys(w.wd.On))})};n.prototype.Ao=function(){return!0};n.prototype.request=function(ba){var w=this;this.aia&&
ba.forEach(function(da){w.wY[da]||w.Pna(da)})};n.prototype.vY=function(){};n.prototype.abort=function(){this.stream&&this.stream.abort()};n.prototype.Pna=function(ba){this.trigger(ea.a.Events.PART_READY,[{$a:ba,error:"Requested part not found",Mi:!1,hg:!1}])};n.prototype.Yia=function(ba,w,da){this.wY[ba]=!0;this.trigger(ea.a.Events.PART_READY,[{$a:ba,data:w,Mi:!1,hg:!1,error:null,cd:da}])};return n}(ea.a);Object(r.a)(Aa);Object(r.b)(Aa);va["default"]=Aa}}]);}).call(this || window)
