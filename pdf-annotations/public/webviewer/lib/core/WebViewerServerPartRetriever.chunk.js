/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[14],{461:function(Aa,va,r){function pa(){return!1}function ka(ba,w,da){if(!(w in n))return!0;w=n[w];for(var ja=0;ja<w.length;ja++){var z=ba;var ca=w[ja];var ia=da;if(ca.name in z){var ha="",ma=!1;z=z[ca.name];switch(ca.type){case "s":ha="String";ma=Object(fa.isString)(z);break;case "a":ha="Array";ma=Object(fa.isArray)(z);break;case "n":ha="Number";ma=Object(fa.isNumber)(z)&&Object(fa.isFinite)(z);break;case "o":ha="Object",ma=Object(fa.isObject)(z)&&
!Object(fa.isArray)(z)}ma||ia.reject('Expected response field "'+ca.name+'" to have type '+ha);ca=ma}else ia.reject('Response missing field "'+ca.name+'"'),ca=!1;if(!ca)return!1}return!0}r.r(va);var la=r(0),fa=r(1);r.n(fa);var ea=r(2);Aa=r(48);var aa=r(34),x=r(478),y=r(97),h=r(386),e=r(42),b=r(172),a=function(){function ba(){this.request=this.result=null;this.state=0;var w=this;w.promise=new Promise(function(da,ja){w.resolve=function(){if(0===w.state||4===w.state)w.state=1,w.result=arguments[0],da.apply(null,
arguments)};w.reject=function(){if(0===w.state||4===w.state)w.state=2,ja.apply(null,arguments)}})}ba.prototype.Bt=function(){return 1===(this.state&1)};ba.prototype.Hfa=function(){return 2===(this.state&2)};ba.prototype.Zi=function(){return!this.Hfa()&&!this.Bt()};ba.prototype.ifa=function(){return 4===(this.state&4)};ba.prototype.VM=function(){this.state|=4};return ba}(),f=function(){function ba(){this.it={};this.Jb=[]}ba.prototype.pop=function(){var w=this.Jb.pop();this.it[w.key]=void 0;return w};
ba.prototype.push=function(w,da){da={key:w,data:da};this.Jb.push(da);this.it[w]=da.data};ba.prototype.contains=function(w){return!!this.it[w]};ba.prototype.get=function(w){return this.it[w]};ba.prototype.set=function(w,da){var ja=this;this.it[w]=da;this.Jb.forEach(function(z,ca){z.key===w&&(ja.Jb[ca]=z)})};ba.prototype.remove=function(w){var da=this;this.it[w]=void 0;this.Jb.forEach(function(ja,z){ja.key===w&&da.Jb.splice(z,1)})};ba.prototype.length=function(){return this.Jb.length};return ba}(),
n={pages:[{name:"pages",type:"a"}],pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],cAnnots:[{name:"annots",type:"a"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],ApString2Xod:[{name:"url",type:"s"},{name:"rID",
type:"s"}]};r=function(){function ba(w,da,ja){var z=this;this.wN=this.ZS=!1;this.qh=this.PF=this.Ju=this.uL=this.YH=this.Om=null;this.sm=new a;this.Hp=new a;this.OB=!1;this.Af=this.De=this.Ee=this.rf=null;this.Vf=[];this.zC=[];this.cache={};this.timeStamp=0;this.lh=[];this.ij=[];this.bJ=null;this.MS=!1;this.zZ=this.id=null;this.fL=this.wV=pa;this.gi=0;this.jK=!1;this.cX=1;this.ej={};this.Zr=0;this.au=new f;da.endsWith("/")||(da+="/");ja=ja||{};this.ZS=ja.disableWebsockets||!1;this.wN=ja.singleServerMode||
!1;null!=ja.customQueryParameters&&Object(e.b)("wvsQueryParameters",ja.customQueryParameters);da.endsWith("blackbox/")||(da+="blackbox/");this.Om=ja.uploadData||null;this.Ju=ja.uriData||null;this.YH=ja.cacheKey||null;this.uL=ja.officeOptions||null;this.Te=da;this.DI=w;this.Go(!0);this.ts=(new x.a(da,null,this.Uh())).sba(!this.ZS,function(ca){z.$ga(ca)},function(){return null},function(){z.OB=!1},function(){z.eka()})}ba.prototype.b9=function(){var w=this;return new Promise(function(da,ja){var z=new XMLHttpRequest;
z.open("GET",w.Te+"ck");z.withCredentials=w.Uh();z.onreadystatechange=function(){z.readyState===XMLHttpRequest.DONE&&(200===z.status?da():ja())};z.send()})};ba.prototype.Pla=function(w){this.wV=w||pa;this.fL=pa};ba.prototype.H7=function(){this.cZ();return this.ts.Sp(!0)};ba.prototype.cZ=function(){Object(la.b)(this,void 0,void 0,function(){return Object(la.d)(this,function(w){switch(w.label){case 0:return this.Hp=new a,this.sm=new a,this.OB=!1,this.id=null,this.MS=!1,[4,this.b9()];case 1:return w.da(),
[2]}})})};ba.prototype.eka=function(){this.wV();this.cZ();this.rf&&(this.rf.Zi()?this.wh(this.rf.request):this.rf.Bt()&&this.fL(this.rf.result.url,"pdf")&&(this.rf=null,this.bZ()));this.Af&&this.Af.Zi()&&this.wh(this.Af.request);this.Ee&&this.Ee.Zi()?this.wh(this.Ee.request):this.De&&this.De.Zi()&&this.jV();var w;for(w=0;w<this.lh.length;w++)this.lh[w]&&(this.lh[w].Zi()?this.wh(this.lh[w].request):this.lh[w].Bt()&&this.fL(this.lh[w].result.url,"image")&&(this.lh[w]=null,this.NE(Object(fa.uniqueId)(),
w)));for(w=0;w<this.ij.length;w++)this.ij[w]&&this.ij[w].Zi()&&!this.ij[w].ifa()&&this.wh(this.ij[w].request);for(w=0;w<this.Vf.length;w++)this.Vf[w]&&this.Vf[w].Zi()&&this.wh(this.Vf[w].request)};ba.prototype.Sea=function(){return this.OB?Promise.resolve():(this.OB=!0,this.timeStamp=Date.now(),this.ts.wD())};ba.prototype.loa=function(){var w=this,da,ja,z,ca,ia;return new Promise(function(ha,ma){if(w.Om)da=new FormData,da.append("file",w.Om.fileHandle,w.Om.fileHandle.name),ja=w.Om.loadCallback,ca=
"upload",z=w.Om.extension;else if(w.Ju)da={uri:w.Ju.uri,asa:w.Ju.shareId},da=Object.keys(da).map(function(qa){return qa+"="+(da[qa]?encodeURIComponent(da[qa]):"")}).join("&"),ia="application/x-www-form-urlencoded; charset=UTF-8",ja=w.Ju.loadCallback,ca="url",z=w.Ju.extension;else{ha();return}var na=new XMLHttpRequest,sa=Object(aa.j)(w.Te,"AuxUpload");sa=Object(b.a)(sa,{type:ca,ext:z});na.open("POST",sa);na.withCredentials=w.Uh();ia&&na.setRequestHeader("Content-Type",ia);na.addEventListener("load",
function(){if(na.readyState===na.DONE&&200===na.status){var qa=JSON.parse(na.response);w.DI=qa.uri;ja(qa);ha(qa)}});na.addEventListener("error",function(){ma(na.statusText+" "+JSON.stringify(na))});w.Om&&null!=w.Om.onProgress&&(na.upload.onprogress=function(qa){w.Om.onProgress(qa)});na.send(da)})};ba.prototype.Wja=function(w){this.password=w||null;this.sm.Bt()||(this.sm=new a,this.wh({t:"pages"}));return this.sm.promise};ba.prototype.zy=function(w){this.bJ=w||null;this.sm.Bt()||this.wh({t:"pages"});
return this.sm.promise};ba.prototype.dw=function(w){w=Object.assign(w,{uri:encodeURIComponent(this.DI)});this.bJ&&(w.ext=this.bJ);this.qh&&(w.c=this.qh);this.password&&(w.pswd=this.password);this.YH&&(w.cacheKey=this.YH);this.uL&&(w.officeOptions=this.uL);return w};ba.prototype.Eka=function(){0<this.au.length()&&10>=this.Zr&&this.Fka(this.au.pop().data)};ba.prototype.h7=function(w){0<this.au.length()&&this.au.contains(w)&&this.au.remove(w)};ba.prototype.wh=function(w){w=this.dw(w);this.ts.send(w)};
ba.prototype.uZ=function(w,da){10<this.Zr?this.au.push(w,da):(this.Zr++,w=this.dw(da),this.ts.send(w))};ba.prototype.Fka=function(w){this.Zr++;w=this.dw(w);this.ts.send(w)};ba.prototype.yl=function(w){return w};ba.prototype.vV=function(w){this.wN&&w?Object(ea.j)("Server failed health check. Single server mode ignoring check."):!this.Bqa&&w&&3>=this.gi?(this.jK=!0,this.ts.Sp()):3<this.gi&&(this.wN=!0)};ba.prototype.$ga=function(w){var da=this,ja=w.data,z=w.err,ca=w.t;switch(ca){case "upload":z?this.moa.reject(z):
this.moa.resolve("Success");break;case "pages":z?this.sm.reject(z):ka(ja,ca,this.sm)&&this.sm.resolve(ja);break;case "config":if(z)this.Hp.reject(z);else if(ka(ja,ca,this.Hp)){this.vV(ja.unhealthy);ja.id&&(this.id=ja.id);if(ja.auth){var ia=Object(e.a)("wvsQueryParameters");ia.auth=ja.auth;Object(e.b)("wvsQueryParameters",ia)}ja.serverVersion&&(this.PF=ja.serverVersion,Object(ea.h)("[WebViewer Server] server version: "+this.PF));ja.serverID?(this.gi=ja.serverID===this.zZ&&this.jK?this.gi+1:0,this.zZ=
ja.serverID):this.gi=0;this.jK=!1;this.Hp.resolve(ja)}break;case "health":z?this.Hp.reject(z):ka(ja,ca,this.Hp)&&this.vV(ja.unhealthy);break;case "pdf":ja.url=Object(b.a)(this.Te+"../"+encodeURI(ja.url));z?this.rf.reject(z):ka(ja,ca,this.rf)&&this.rf.resolve(ja);break;case "ApString2Xod":ja.url=Object(b.a)(this.Te+"../data/"+encodeURI(ja.url));z?this.ej[ja.rID].reject(z):ka(ja,ca,this.ej[ja.rID])&&this.ej[ja.rID].resolve(ja);break;case "docmod":ja.url=Object(b.a)(this.Te+"../"+encodeURI(ja.url));
z?this.ej[ja.rID].reject(z):ka(ja,ca,this.rf)&&this.ej[ja.rID].resolve(ja);break;case "xod":if(z)this.Ee&&this.Ee.Zi()&&this.Ee.reject(z),this.De&&this.De.Zi()&&this.De.reject(z);else if(ja.notFound)ja.noCreate||this.Ee&&this.Ee.Zi()&&this.Ee.resolve(ja),this.De&&this.De.Zi()&&this.De.resolve(ja);else{ja.url&&(ja.url=Object(b.a)(this.Te+"../"+encodeURI(ja.url)));if(!this.De||this.De.Bt())this.De=new a,this.De.request={t:"xod",noCreate:!0};this.Ee||(this.Ee=new a,this.Ee.request={t:"xod"});this.De.resolve(ja);
this.Ee.resolve(ja)}break;case "cAnnots":ia=this.Af;if(z)ia.reject(z);else if(ka(ja,ca,ia)){ia.VM();var ha=[],ma=ja.annots;ja=function(oa){var wa=ma[oa].s,Ca=ma[oa].e,Ga=na.Te+"../"+encodeURI(ma[oa].xfdf),Ia="true"===ma[oa].hasAppearance?Object(b.a)(Ga+".xodapp"):null,Da=Object(fa.range)(wa,Ca+1);ha[oa]={range:Da,promise:new Promise(function(Ja,Wa){var Na=new XMLHttpRequest;Na.open("GET",Object(b.a)(Ga));Na.responseType="text";Na.withCredentials=da.Uh();Na.addEventListener("load",function(){Na.readyState===
Na.DONE&&200===Na.status&&Ja({qr:Na.response,ol:Ia,range:Da})});Na.addEventListener("error",function(){Wa(Na.statusText+" "+JSON.stringify(Na))});Na.send()})}};var na=this;for(z=0;z<ma.length;z++)ja(z);ia.resolve(ha)}break;case "annots":if(z)this.Af.reject(z);else if(ka(ja,ca,this.Af)){this.Af.VM();var sa=new XMLHttpRequest;ia=this.Te+"../"+encodeURI(ja.url);var qa=ja.hasAppearance?Object(b.a)(ia+".xodapp"):null;sa.open("GET",Object(b.a)(ia));sa.responseType="text";sa.withCredentials=this.Uh();sa.addEventListener("load",
function(){sa.readyState===sa.DONE&&200===sa.status&&da.Af.resolve({qr:sa.response,ol:qa})});sa.addEventListener("error",function(){da.Af.reject(sa.statusText+" "+JSON.stringify(sa))});sa.send()}break;case "image":this.Zr--;var ra=this.lh[ja.p];z?ra.promise.reject(z):ka(ja,ca,ra)&&(ra.result=ja,ra.result.url=Object(b.a)(this.Te+"../"+encodeURI(ra.result.url)),ra.resolve(ra.result));break;case "tiles":this.Zr--;ra=ja.rID;ia=this.Vf[ra];this.Vf[ra]=null;this.zC.push(ra);if(z)ia.reject(z);else if(ka(ja,
ca,ia)){for(z=0;z<ja.tiles.length;z++)ja.tiles[z]=Object(b.a)(this.Te+"../"+encodeURI(ja.tiles[z]));ia.resolve(ja)}break;case "text":ra=this.ij[ja.p];if(z)ra.reject(z);else if(ka(ja,ca,ra)){ra.VM();var ua=new XMLHttpRequest;ja=Object(b.a)(this.Te+"../"+encodeURI(ja.url));ua.open("GET",ja);ua.withCredentials=this.Uh();ua.addEventListener("load",function(){ua.readyState===ua.DONE&&200===ua.status&&(ra.result=JSON.parse(ua.response),ra.resolve(ra.result))});ua.addEventListener("error",function(oa){ra.reject(ua.statusText+
" "+JSON.stringify(oa))});ua.send()}break;case "progress":"loading"===ja.t&&this.trigger(y.a.Events.DOCUMENT_LOADING_PROGRESS,[ja.bytes,ja.total])}this.Eka();!ca&&w.echo&&w&&"apstring2xod"===w.echo.t&&(w=w.echo.reqID)&&(2<=parseInt(this.PF,10)?this.ej[w].reject("Message unhandled by server"):this.ej[w].reject())};ba.prototype.$ba=function(){return Object(la.b)(this,void 0,void 0,function(){return Object(la.d)(this,function(w){switch(w.label){case 0:return[4,this.Sea()];case 1:return w.da(),[2,this.Hp.promise]}})})};
ba.prototype.Hba=function(w){for(var da=this,ja=new XMLHttpRequest,z=Object(b.a)(this.Te+"aul",{id:this.id}),ca=new FormData,ia={},ha=0;ha<w.body.length;ha++){var ma=w.body[ha];ia[ma.id]=ma.LH.w+";"+ma.LH.h;ca.append(ma.id,ma.LH.dataString)}w={t:"apstring2xod",reqID:this.cX++,parts:ia};var na=this.dw(w);ca.append("msg",JSON.stringify(na));this.ej[na.reqID]=new a;ja.open("POST",z);ja.withCredentials=this.Uh;z=new Promise(function(sa,qa){ja.onreadystatechange=function(){4===ja.readyState&&(200===ja.status?
sa():qa("An error occurred while sending down appearance strings to the server"))}});ja.send(ca);return z.then(function(){return da.ej[na.reqID].promise})};ba.prototype.J7=function(){var w=this.PF.split("-")[0].split("."),da=["1","5","9"];if(3!==w.length)throw Error("Invalid WVS version length.");if(3!==da.length)throw Error("Invalid version length.");for(var ja=0;ja<w.length;++ja){if(da.length===ja||w[ja]>da[ja])return-1;if(w[ja]!==da[ja])return 1}return 0};ba.prototype.Dp=function(){return 0>=this.J7()};
ba.prototype.kJ=function(){this.Af||(this.Af=new a,this.Dp()?this.Af.request={t:"cAnnots"}:this.Af.request={t:"annots"},this.wh(this.Af.request));return this.Af.promise};ba.prototype.NE=function(w,da){this.lh[da]||(this.lh[da]=new a,this.lh[da].request={t:"image",p:da},this.uZ(w,this.lh[da].request));return this.lh[da].promise};ba.prototype.Xja=function(w){this.ij[w]||(this.ij[w]=new a,this.ij[w].request={t:"text",p:w},this.wh(this.ij[w].request));return this.ij[w].promise};ba.prototype.Yja=function(w,
da,ja,z,ca){var ia=this.Vf.length;this.zC.length&&(ia=this.zC.pop());this.Vf[ia]=new a;this.Vf[ia].request={t:"tiles",p:da,z:ja,r:z,size:ca,rID:ia};this.uZ(w,this.Vf[ia].request);return this.Vf[ia].promise};ba.prototype.bZ=function(){this.rf||(this.rf=new a,this.rf.request={t:"pdf"},this.MS?this.rf.resolve({url:this.DI}):this.wh(this.rf.request));return this.rf.promise};ba.prototype.EU=function(w){var da=this,ja=new XMLHttpRequest,z=Object(b.a)(this.Te+"aul",{id:this.id}),ca=new FormData,ia={};w.annots&&
(ia.annots="xfdf");w.watermark&&(ia.watermark="png");w.redactions&&(ia.redactions="redact");ia={t:"docmod",reqID:this.cX++,parts:ia};w.print&&(ia.print=!0);var ha=this.dw(ia);ca.append("msg",JSON.stringify(ha));return Promise.all([w.annots,w.watermark,w.redactions].map(function(ma){return Promise.resolve(ma)})).then(function(ma){var na=ma[0],sa=ma[1];ma=ma[2];na&&ca.append("annots",na);sa&&ca.append("watermark",sa);ma&&ca.append("redactions",ma);da.ej[ha.reqID]=new a;ja.open("POST",z);ja.withCredentials=
da.Uh;na=new Promise(function(qa,ra){ja.onreadystatechange=function(){4===ja.readyState&&(200===ja.status?qa():ra("An error occurred while sending down annotation data to the server"))}});ja.send(ca);return na.then(function(){return da.ej[ha.reqID].promise})})};ba.prototype.jV=function(){this.De||(this.De=new a,this.De.request={t:"xod",noCreate:!0},this.wh(this.De.request));return this.De.promise};ba.prototype.Zja=function(){this.Ee||(this.Ee=new a,this.Ee.request={t:"xod"},this.wh(this.Ee.request));
return this.Ee.promise};ba.prototype.Ao=function(){return!0};ba.prototype.request=function(){};ba.prototype.vY=function(){};ba.prototype.abort=function(){for(var w=0;w<this.Vf.length;w++)this.Vf[w]&&(this.Vf[w].resolve(null),this.Vf[w]=null,this.zC.push(w));this.close()};ba.prototype.aF=function(w){this.qh=this.qh||{};this.qh.headers=w};ba.prototype.Go=function(w){this.qh=this.qh||{};this.qh.internal=this.qh.internal||{};this.qh.internal.withCredentials=w};ba.prototype.Uh=function(){return this.qh&&
this.qh.internal?this.qh.internal.withCredentials:null};ba.prototype.getFileData=function(){return Promise.reject()};return ba}();Object(Aa.a)(r);Object(h.a)(r);Object(h.b)(r);va["default"]=r},478:function(Aa,va,r){var pa=r(0),ka=r(2),la=r(34),fa=r(42),ea=r(172),aa=r(115),x=function(){function h(e,b,a,f,n,ba){void 0===a&&(a=null);void 0===f&&(f=null);void 0===n&&(n=null);void 0===ba&&(ba=null);this.KW=!1;this.gi=0;this.PR=this.Hoa(e);this.url=b?this.PR+"/"+b:this.PR+"/ws";this.wI=a;this.Xx=f;this.bw=
n;this.xM=ba}h.prototype.Hoa=function(e){var b=e.indexOf("://"),a="ws://";0>b?b=0:(5===b&&(a="wss://"),b+=3);var f=e.lastIndexOf("/");0>f&&(f=e.length);return a+e.slice(b,f)};h.prototype.send=function(e){this.So.readyState===WebSocket.CLOSED||this.KW||this.So.send(JSON.stringify(e))};h.prototype.wD=function(){return Object(pa.b)(this,void 0,void 0,function(){var e,b=this;return Object(pa.d)(this,function(){e=Object(fa.a)("wvsQueryParameters");e.bcid=Object(la.k)(8);Object(fa.b)("wvsQueryParameters",
e);return[2,new Promise(function(a,f){var n=Object(ea.a)(b.url);b.So=new WebSocket(n);b.So.onopen=function(){b.Xx&&b.Xx();a()};b.So.onerror=function(ba){b.KW=!0;f(ba)};b.So.onclose=function(ba){var w=ba.code;return Object(pa.b)(b,void 0,void 0,function(){var da=this;return Object(pa.d)(this,function(ja){switch(ja.label){case 0:return this.bw&&this.bw(),3E3===w?[3,3]:8>this.gi++?[4,new Promise(function(z){return setTimeout(function(){return Object(pa.b)(da,void 0,void 0,function(){return Object(pa.d)(this,
function(ca){switch(ca.label){case 0:return this.xM(),[4,this.wD()];case 1:return ca.da(),z(),[2]}})})},3E3)})]:[3,2];case 1:return ja.da(),[3,3];case 2:f(aa.a),ja.label=3;case 3:return[2]}})})};b.So.onmessage=function(ba){ba&&ba.data&&(ba=JSON.parse(ba.data),ba.hb?b.send({hb:!0}):ba.end?close():b.wI(ba))}})]})})};h.prototype.Sp=function(e){void 0===e&&(e=!1);this.gi=0;e?this.So.close(3E3):this.So.close();return Promise.resolve()};return h}(),y=function(){function h(e,b,a,f,n,ba,w){void 0===f&&(f=
null);void 0===n&&(n=null);void 0===ba&&(ba=null);void 0===w&&(w=null);this.gi=this.ME=this.id=0;this.mx=!1;this.request=null;e=this.wia(e);this.url=b?e+"/"+b+"pf":e+"/pf";this.IF=a;this.wI=f;this.Xx=n;this.bw=ba;this.xM=w}h.prototype.wia=function(e){var b=e.lastIndexOf("/");0>b&&(b=e.length);return e.slice(0,b)};h.prototype.K8=function(e){e=e.split("\n");for(e[e.length-1]&&e.pop();0<e.length&&3>e[e.length-1].length;)"]"===e.pop()&&(this.id=0);0<e.length&&3>e[0].length&&e.shift();for(var b=0;b<e.length;++b)e[b].endsWith(",")&&
(e[b]=e[b].substr(0,e[b].length-1));return e};h.prototype.lZ=function(){return Object(pa.b)(this,void 0,void 0,function(){var e=this;return Object(pa.d)(this,function(b){switch(b.label){case 0:return 8>this.gi++?[4,new Promise(function(a){return setTimeout(function(){e.xM();e.wD();a()},3E3)})]:[3,2];case 1:b.da(),b.label=2;case 2:return[2]}})})};h.prototype.yia=function(e){Object(pa.b)(this,void 0,void 0,function(){var b,a;return Object(pa.d)(this,function(f){switch(f.label){case 0:b=null,a=0,f.label=
1;case 1:if(!(a<e.length))return[3,6];b=JSON.parse(e[a]);if(!b)return[3,5];if(!b.end)return[3,2];close();return[3,5];case 2:if(!b.id||Number(b.id)===this.id)return[3,4];Object(ka.j)("Reconnecting, new server detected");this.Sp();return[4,this.lZ()];case 3:return f.da(),[3,5];case 4:b.hb&&Number(b.id)===this.id?this.send({hb:!0}):this.mx||this.wI(b),f.label=5;case 5:return++a,[3,1];case 6:return[2]}})})};h.prototype.Xga=function(e){Object(pa.b)(this,void 0,void 0,function(){var b,a,f;return Object(pa.d)(this,
function(n){switch(n.label){case 0:if(!(3<=e.readyState))return[3,2];try{b=e.responseText.length}catch(ba){return Object(ka.h)("caught exception"),[2]}if(0<b)try{a=this.K8(e.responseText),0===this.id&&0<a.length&&(f=JSON.parse(a.shift()),this.id=f.id,this.gi=0),this.yia(a)}catch(ba){}return this.mx?[3,2]:[4,this.DT()];case 1:n.da(),n.label=2;case 2:return[2]}})})};h.prototype.DT=function(){return Object(pa.b)(this,void 0,void 0,function(){var e=this;return Object(pa.d)(this,function(){return[2,new Promise(function(b,
a){function f(){return Object(pa.b)(e,void 0,void 0,function(){return Object(pa.d)(this,function(ba){switch(ba.label){case 0:a(),this.Sp(),ba.label=1;case 1:return this.mx&&8>this.gi?[4,this.lZ()]:[3,3];case 2:return ba.da(),[3,1];case 3:return[2]}})})}e.request=new XMLHttpRequest;e.request.withCredentials=e.IF;var n=Object(ea.a)(e.url,0!==e.id?{id:String(e.id),uc:String(e.ME)}:{uc:String(e.ME)});e.ME++;e.request.open("GET",n,!0);e.request.setRequestHeader("Cache-Control","no-cache");e.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");e.request.onreadystatechange=function(){e.Xga(e.request)};e.request.addEventListener("error",f);e.request.addEventListener("timeout",f);e.request.addEventListener("load",function(){e.Xx&&e.Xx();b()});e.request.send()})]})})};h.prototype.wD=function(){var e=Object(fa.a)("wvsQueryParameters");e.bcid=Object(la.k)(8);Object(fa.b)("wvsQueryParameters",e);this.ME=this.id=0;this.mx=!1;return this.DT()};h.prototype.send=function(e){var b=this,a=new XMLHttpRequest;a.withCredentials=this.IF;
var f=Object(ea.a)(this.url,{id:String(this.id)}),n=new FormData;n.append("data",JSON.stringify(e));a.addEventListener("error",function(){b.Sp()});a.open("POST",f);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(n)};h.prototype.Sp=function(){this.id=0;this.mx=!0;this.bw&&this.bw();this.request.abort();return Promise.resolve()};return h}();Aa=function(){function h(e,b,a){this.oS=e;this.target=b;this.IF=a}h.prototype.sba=function(e,b,a,f,n){void 0===e&&(e=!0);void 0===b&&(b=null);void 0===
a&&(a=null);void 0===f&&(f=null);void 0===n&&(n=null);return e?new x(this.oS,this.target,b,a,f,n):new y(this.oS,this.target,this.IF,b,a,f,n)};return h}();va.a=Aa}}]);}).call(this || window)
